#!/usr/bin/env python3

import numpy as np
import matplotlib.pyplot as plt

def moving_average(a, n=20):
    ret = np.cumsum(a, dtype=float)
    ret[n:] = ret[n:] - ret[:-n]
    return ret[n - 1:] / n

def plot_probs(probs):
    probs_idx = range(len(probs))
    plt.plot(probs_idx, probs)

    avg20 = moving_average(probs, n=20)
    avg20_idx = probs_idx[-len(avg20):]
    plt.plot(avg20_idx, avg20)

    avg30 = moving_average(probs, n=30)
    avg30_idx = probs_idx[-len(avg30):]
    plt.plot(avg30_idx, avg30)

    plt.show()

probs_nothing = np.array([
    10.97, 10.84, 11.03, 10.79, 10.31, 10.36, 10.39, 10.51, 10.42, 10.22, 10.08, 10.40, 12.62,
    12.05, 12.64, 13.19, 13.63, 13.21, 13.36, 13.31, 13.20, 14.53, 13.66, 13.28, 13.07, 13.10,
    13.11, 13.41, 13.51, 13.86, 25.92, 25.05, 20.87, 24.38, 36.76, 60.79, 51.15, 56.07, 46.02,
    22.10, 14.60, 2.60, 1.37, 1.41, 0.16, 0.08, 0.03, 0.00, 0.00, 0.00, 0.00, 0.01, 0.01,
    0.02, 0.02, 0.05, 0.01, 0.00, 0.01, 0.02, 0.02, 0.01, 0.01, 0.00, 0.00, 0.00, 0.00, 0.00,
    0.01, 0.02, 0.53, 1.29, 1.70, 4.85, 4.25, 40.21, 35.80, 1.50, 0.05, 0.16, 0.01, 0.00,
    0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.01, 0.01,
    0.11, 0.63, 4.67, 1.16, 0.42, 0.80, 8.48, 3.97, 2.28, 4.53, 1.17, 2.11, 0.55, 0.66, 0.04,
    0.00, 0.06, 0.03, 0.02, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.01,
    0.02, 0.03, 0.01, 0.00, 0.00, 0.01, 0.00, 0.00, 0.00, 0.01, 0.01, 0.00, 0.01, 0.03, 0.02,
    0.03, 0.02, 0.03, 0.04, 0.04, 0.07, 0.13, 0.14, 0.16, 0.25, 0.20, 0.33, 0.56, 0.88, 0.47,
    0.28, 0.32, 0.89, 3.33, 6.61, 8.48, 6.33, 4.72, 2.52, 2.50, 7.39, 11.18, 10.78, 11.37,
    10.76, 10.74, 11.46, 13.65, 13.57, 13.75, 14.08, 14.42, 14.75, 14.48, 15.09, 17.71, 16.31,
    15.08, 15.24, 14.02, 14.85, 14.53, 14.04, 13.48, 13.18, 12.64, 11.89, 11.28, 11.10, 10.83,
    10.10, 9.45, 8.77, 8.47, 8.27, 8.29, 8.86, 8.61, 9.31, 9.21, 7.92, 7.98, 7.74, 8.83, 8.19,
    7.75, 7.98, 7.83, 7.78, 7.65, 7.05, 7.72, 7.63, 8.04, 7.78, 7.69, 7.47, 7.31, 7.47, 8.01,
    7.92, 8.17, 8.02, 8.40, 8.36, 8.32, 8.09, 8.33, 8.16, 8.11, 8.18, 8.34, 8.27, 8.27, 8.51,
    8.70, 8.61, 8.67, 9.06, 9.36, 9.33, 9.54, 9.52, 9.11, 9.14, 9.11, 8.70, 8.42, 8.32, 8.31,
    8.07, 8.13, 8.04, 7.96, 8.32, 4.58, 4.46, 4.46, 4.30, 4.48, 4.48, 4.27, 4.05, 4.14, 4.39,
    4.59, 4.65, 4.60, 4.65, 4.76, 5.08, 5.12, 5.32, 5.55, 5.54, 5.51, 5.89, 5.96, 6.21, 6.05,
    6.04, 6.02, 6.03, 6.28, 6.33, 6.75, 6.90, 6.96, 6.97, 6.90, 6.87, 6.76, 6.71, 6.64, 6.91,
    6.69, 6.63, 6.70, 6.66, 6.63, 6.57, 6.51, 6.44, 6.57, 7.01, 9.83, 9.69, 10.37, 10.78,
    10.45, 10.26, 10.34, 10.24, 10.35, 10.85, 11.00, 10.51, 10.72, 11.43, 11.33, 11.14, 10.75,
    10.85, 11.12, 11.13, 11.13, 11.19, 11.08, 9.89, 9.44, 9.30, 8.96, 8.87, 8.98, 9.00, 9.22,
    9.54, 9.59, 9.81, 9.62, 10.03, 9.55, 9.70, 10.26, 10.23, 10.01, 9.74, 9.73, 9.34, 9.10,
    9.23, 9.25, 8.64, 8.73, 9.13, 8.48, 8.40, 8.48, 8.34, 8.71, 8.99, 8.87, 9.05, 9.02, 9.08,
    9.07, 8.74, 8.43, 8.67, 8.95, 8.81, 9.05, 9.19, 9.33, 9.16, 8.96, 8.71, 8.80, 9.02, 8.94,
    8.92, 9.12, 9.06, 9.25, 8.87, 9.29, 9.41, 9.02, 8.86, 8.78, 9.25, 9.29, 9.55, 9.63, 9.86,
    9.80, 9.92, 9.98, 10.04, 10.22, 10.35, 10.34, 10.42, 10.45, 10.69, 5.38, 5.89, 5.57, 5.77,
    5.77, 5.72, 5.90, 5.85, 5.97, 5.85, 5.92, 6.31, 6.54, 6.90, 6.82, 6.92, 6.88, 6.53, 6.61,
    6.71, 6.86, 7.02, 6.92, 7.18, 7.40, 7.68, 7.83, 7.73, 7.36, 7.15, 6.61, 6.67, 6.92, 6.79,
    6.55, 6.54, 6.47, 6.74, 6.66, 6.89, 7.19, 7.02, 6.89, 6.92, 7.32, 7.17, 6.99, 7.15, 7.51,
    7.51, 5.65, 5.27, 5.75, 5.83, 5.88, 5.62, 5.50, 5.51, 5.16, 5.55, 5.79, 5.62, 5.77, 5.76,
    5.89, 6.22, 6.25, 6.06, 5.88, 6.35
])
plot_probs(probs_nothing)

probs_people = np.array([
    0.76, 0.78, 0.77, 0.73, 0.86, 0.90, 1.12, 5.40, 5.06, 4.95, 5.11, 5.61, 5.24,
    5.40, 6.41, 6.04, 5.77, 5.98, 6.01, 6.86, 7.37, 6.41, 6.13, 5.44, 5.17, 5.72,
    4.81, 4.63, 5.22, 5.11, 4.75, 4.81, 5.30, 5.07, 3.86, 3.84, 3.51, 3.54, 4.08,
    3.95, 3.58, 4.74, 4.29, 4.00, 4.95, 4.56, 5.29, 5.04, 4.77, 5.19, 5.21, 6.14,
    7.66, 7.06, 6.35, 6.16, 5.86, 13.42, 12.92, 12.68, 12.10, 12.53, 12.75, 8.34,
    8.35, 7.35, 7.04, 6.18, 6.84, 8.27, 7.31, 7.47, 6.81, 5.67, 5.33, 3.19, 3.53,
    3.73, 3.85, 3.99, 4.03, 4.08, 4.01, 4.74, 4.63, 4.26, 4.21, 3.22, 3.63, 3.50,
    3.66, 3.80, 3.96, 3.67, 3.81, 3.64, 3.90, 3.86, 3.66, 3.79, 3.41, 3.14, 1.65,
    1.66, 1.77, 1.48, 1.11, 0.53, 0.52, 0.49, 0.49, 0.51, 0.48, 0.50, 0.47, 0.43,
    0.49, 0.49, 0.47, 0.43, 0.46, 0.52, 0.52, 0.60, 0.70, 0.64, 0.77, 0.88, 0.92,
    1.27, 1.26, 1.41, 1.89, 2.38, 1.90, 1.82, 1.75, 1.59, 1.45, 1.46, 1.39, 1.37,
    1.27, 1.09, 1.13, 1.10, 0.80, 0.93, 0.91, 0.85, 0.78, 0.79, 0.67, 0.86, 0.87,
    0.86, 0.89, 2.60, 2.61, 2.49, 2.43, 2.13, 1.94, 2.15, 2.49, 2.56, 2.79, 2.46,
    2.40, 2.18, 2.20, 2.08, 2.15, 2.04, 2.00, 1.62, 1.61, 1.63, 1.54, 1.45, 1.36,
    1.30, 1.23, 1.24, 1.05, 1.10, 1.22, 1.12, 1.03, 1.05, 1.14, 1.14, 0.98, 1.20,
    1.15, 1.09, 1.02, 0.90, 0.99, 0.97, 1.02, 1.01, 1.03, 1.07, 1.35, 1.10, 1.17,
    1.07, 0.91, 1.00, 0.84, 1.03, 1.00, 1.12, 1.08, 0.95, 1.19, 0.95, 2.57, 4.06,
    1.65, 3.07, 1.88, 1.52, 6.26, 1.54, 2.48, 7.12, 13.44, 15.79, 21.55, 33.85,
    81.83, 94.56, 97.16, 93.80, 78.91, 94.23, 92.24, 95.22, 99.55, 99.44, 99.79,
    99.93, 99.95, 100.00, 100.00, 100.00, 100.00, 100.00, 100.00, 100.00, 100.00,
    100.00, 100.00, 100.00, 100.00, 100.00, 100.00, 100.00, 99.99, 99.98, 99.99,
    100.00, 100.00, 100.00, 100.00, 100.00, 100.00, 100.00, 100.00, 100.00, 99.99,
    99.98, 99.97, 99.98, 99.99, 100.00, 100.00, 100.00, 100.00, 99.99, 100.00,
    100.00, 100.00, 100.00, 100.00, 99.99, 100.00, 99.98, 100.00, 100.00, 99.99,
    99.99, 100.00, 99.98, 99.99, 99.96, 99.99, 99.99, 99.98, 99.95, 99.96, 99.98,
    99.97, 99.97, 99.97, 99.92, 99.81, 99.89, 99.18, 98.28, 83.74, 72.05, 77.55,
    84.14, 94.34, 94.27, 97.68, 98.34, 98.88, 90.28, 88.13, 74.73, 59.87, 67.97,
    49.00, 35.52, 21.18, 12.65, 9.28, 7.12, 4.63, 8.35, 7.98, 8.70, 33.58, 50.59,
    22.50, 20.13, 40.04, 40.80, 21.56, 18.23, 24.89, 17.91, 29.59, 19.05, 12.33,
    9.03, 15.37, 20.76, 9.26, 14.24, 10.05, 14.11, 21.14, 14.16, 9.40, 8.91, 10.38,
    9.84, 7.63, 4.77, 3.56, 3.79, 3.92, 3.22, 3.42, 3.45, 4.97, 5.88, 9.09, 15.64,
    9.19, 5.01, 1.85, 1.98, 2.01, 2.42, 2.11, 1.38, 1.84, 2.41, 1.78, 1.78, 0.94,
    2.22, 2.67, 3.80, 1.62, 1.57, 3.50, 2.16, 8.08, 7.13, 5.06, 2.68, 2.25, 5.94,
    20.26, 4.99, 18.96, 19.92, 28.64, 57.55, 79.95, 57.84, 58.50, 49.03, 40.16,
    22.02, 33.55, 42.02, 45.08, 73.83, 79.95, 32.38, 7.37, 4.19, 4.57, 4.26, 3.93,
    3.83, 3.37, 2.01, 5.12, 22.68, 21.68, 2.72, 1.45, 1.96, 3.58, 16.60, 15.13,
    10.08, 57.36, 29.37, 20.15, 19.75, 2.41, 0.56, 1.09, 2.46, 13.14, 71.24, 14.89,
    95.89, 90.47, 86.86, 68.88, 94.78, 99.89, 99.72, 98.26, 56.88, 63.69, 95.88,
    98.18, 99.60, 99.27, 83.40, 99.97, 99.90, 99.95, 99.99, 100.00, 100.00, 100.00,
    100.00, 99.99, 100.00, 100.00, 100.00, 100.00, 100.00, 100.00, 100.00, 100.00,
    100.00, 100.00, 100.00, 99.99, 99.99, 99.99, 99.99, 99.99, 99.99, 99.99, 99.98,
    99.97, 99.98, 99.93, 99.97, 99.98, 99.98, 99.95, 99.91, 99.83, 95.67, 95.57,
    79.90, 57.48, 42.65, 11.37, 12.25, 3.83, 0.43, 0.21, 0.23, 0.25, 0.25, 0.38,
    0.47, 0.50, 0.43, 0.44, 0.43, 0.45, 0.50, 0.78, 1.21, 1.02, 1.10, 1.24, 1.96,
    2.85, 2.19, 2.08, 3.64, 9.98, 16.87, 7.61, 92.62, 34.50, 91.58, 81.90, 97.12,
    99.70, 99.62, 99.81, 99.96, 99.97, 99.96, 99.98, 99.96, 99.99, 99.98, 99.96,
    99.99, 99.98, 99.94, 99.98, 99.97, 99.92, 99.97, 99.93, 99.99, 99.98, 100.00,
    100.00, 100.00, 100.00, 100.00, 100.00, 100.00, 99.99, 100.00, 99.99, 100.00,
    100.00, 100.00, 99.99, 100.00, 100.00, 99.99, 100.00, 100.00, 100.00, 100.00,
    100.00, 100.00, 100.00, 100.00, 100.00, 100.00, 100.00, 100.00, 100.00, 100.00,
    100.00, 99.98, 99.99, 99.99, 100.00, 100.00, 100.00, 100.00, 100.00, 99.93,
    99.92, 99.76, 99.88, 99.99, 99.94, 99.72, 99.91, 99.93, 97.69, 77.18, 84.93,
    46.82, 73.74, 54.59, 65.33, 61.62, 87.17, 87.76, 86.97, 98.45, 98.30, 77.19,
    99.45, 79.51, 46.60, 19.90, 19.02, 30.64, 28.72, 33.98, 59.08, 77.54, 55.05,
    48.93, 37.14, 50.84, 60.16, 57.81, 41.42, 49.05, 30.88, 35.22, 21.48, 30.95,
    33.59, 24.31, 19.64, 20.48, 24.46, 17.91, 16.75, 11.77, 12.23, 11.57, 4.72,
    5.60, 4.68, 46.84, 22.28, 12.26, 11.72, 12.97, 13.34, 13.84, 25.61, 24.04,
    21.45, 21.54, 15.81, 14.60, 16.81, 20.44, 19.37, 16.06, 18.44, 16.45, 14.53,
    15.52, 12.69, 12.70, 12.94, 17.14, 18.11, 15.01, 13.57, 13.33, 12.74, 9.40,
    8.92, 6.43, 6.54, 6.51, 5.66, 4.61, 4.19, 6.34, 6.94, 8.27, 12.38, 14.60,
    13.88, 15.11, 21.57, 21.26, 22.41, 21.17, 22.77, 8.09, 11.00, 14.74, 15.37,
    11.67, 11.13, 8.13, 7.97, 8.17, 7.15, 9.62, 8.79, 6.32, 5.54, 5.94, 6.24, 5.93,
    5.75, 6.06, 6.87, 5.61, 4.89, 3.74, 3.45, 4.87, 4.44, 4.07, 4.19, 4.08, 4.01,
    4.73, 4.82, 5.10, 5.87, 5.72, 6.20, 7.55, 7.31, 6.17, 4.63, 6.01, 6.04, 6.26,
    5.99, 5.33, 5.20, 4.67, 4.59, 3.93, 4.41, 9.21, 9.79, 11.52, 11.85, 10.81,
    9.14, 8.92, 7.05, 6.84, 6.91, 5.53, 3.10, 2.83, 2.90, 2.71, 2.31, 1.79, 2.37,
    2.12, 1.67, 1.59, 1.72, 1.80, 1.88, 1.89, 2.31, 2.51, 2.40, 2.02, 1.94, 2.21,
    2.26, 2.28, 2.26, 2.43, 2.93, 3.14, 4.48, 4.76, 4.21, 4.20, 4.16, 3.76, 3.50,
    5.28, 4.24, 4.64,
])
plot_probs(probs_people)
